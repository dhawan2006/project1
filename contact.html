<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Contact | LD Films</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500&display=swap" rel="stylesheet">

<link rel="stylesheet" href="style.css">

</head>


<body class="contact-page">


<!-- HERO -->
<section class="contact-hero">

  <div class="overlay"></div>

  <nav class="contact-nav">

    <a href="index.html">HOME</a>
    <a href="portfolio.html">PORTFOLIO</a>

    <h2 class="logo">LD</h2>

    <a href="#">FILMS</a>
    <a href="contact.html">CONTACT</a>

  </nav>

</section>


<!-- FORM -->
<section class="contact-form-section">

<h1>Let’s Tell Your Story</h1>
<p>We would love to be part of your special day</p>


<form id="contactForm" class="contact-form">

<label>Your Name *</label>
<input type="text" id="name" required>

<label>Email *</label>
<input type="email" id="email" required>

<label>Phone *</label>
<input type="text" id="phone" required>

<label>Event Type *</label>

<div class="checkbox-group">
<label><input type="radio" name="event" value="Wedding"> Wedding</label>
<label><input type="radio" name="event" value="Engagement"> Engagement</label>
</div>

<label>Message *</label>
<textarea id="message" rows="5"></textarea>

<button type="submit">SEND MESSAGE</button>

<p id="formStatus"></p>

</form>

</section>


<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>


<script>

gsap.registerPlugin(ScrollTrigger);

/* HERO */

gsap.from(".contact-hero",{
  scale:1.1,
  opacity:0,
  duration:1.3
});


gsap.from(".contact-nav a,.contact-nav .logo",{
  y:-20,
  opacity:0,
  stagger:0.15,
  delay:0.3
});


/* FORM */

gsap.from(".contact-form-section h1",{
  scrollTrigger:".contact-form-section",
  y:30,
  opacity:0
});


gsap.from(".contact-form label,.contact-form input,.contact-form textarea",{
  scrollTrigger:".contact-form",
  y:15,
  opacity:0,
  stagger:0.05
});


gsap.from(".contact-form button",{
  scrollTrigger:".contact-form",
  scale:0.8,
  opacity:0,
  delay:0.5,
  ease:"back.out(1.7)"
});


/* SUBMIT */

document.getElementById("contactForm").addEventListener("submit", async function(e){

  e.preventDefault();

  const status = document.getElementById("formStatus");
  status.innerText = "Sending...";

  const eventType = document.querySelector('input[name="event"]:checked');

  const data = {

    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,

    eventType: eventType ? eventType.value : "",

    message: document.getElementById("message").value
  };

  try {

    const response = await fetch("https://ldfilms-backend.onrender.com/contact", {

      method: "POST",

      headers: {
        "Content-Type": "application/json"
      },

      body: JSON.stringify(data)

    });

    const result = await response.json();

    if(result.success){

      status.innerText = "✅ Message Sent Successfully!";
      document.getElementById("contactForm").reset();

    } else {

      status.innerText = "❌ " + result.message;

    }

  }
  catch(error){

    console.error("Error:", error);

    status.innerText = "❌ Server Not Connected";

  }

});

</script>

</body>
</html>
